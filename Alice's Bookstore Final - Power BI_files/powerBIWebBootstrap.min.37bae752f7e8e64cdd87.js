var __awaiter=this&&this.__awaiter||function(e,i,s,d){return new(s=s||Promise)(function(t,n){function r(e){try{a(d.next(e))}catch(e){n(e)}}function o(e){try{a(d.throw(e))}catch(e){n(e)}}function a(e){var n;e.done?t(e.value):((n=e.value)instanceof s?n:new s(function(e){e(n)})).then(r,o)}a((d=d.apply(e,i||[])).next())})},__generator=this&&this.__generator||function(r,o){var a,i,s,d={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:n(0),throw:n(1),return:n(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function n(t){return function(e){var n=[t,e];if(a)throw new TypeError("Generator is already executing.");for(;d;)try{if(a=1,i&&(s=2&n[0]?i.return:n[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,n[1])).done)return s;switch(i=0,(n=s?[2&n[0],s.value]:n)[0]){case 0:case 1:s=n;break;case 4:return d.label++,{value:n[1],done:!1};case 5:d.label++,i=n[1],n=[0];continue;case 7:n=d.ops.pop(),d.trys.pop();continue;default:if(!(s=0<(s=d.trys).length&&s[s.length-1])&&(6===n[0]||2===n[0])){d=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3]))d.label=n[1];else if(6===n[0]&&d.label<s[1])d.label=s[1],s=n;else{if(!(s&&d.label<s[2])){s[2]&&d.ops.pop(),d.trys.pop();continue}d.label=s[2],d.ops.push(n)}}n=o.call(r,d)}catch(e){n=[6,e],i=0}finally{a=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}}},__spreadArray=this&&this.__spreadArray||function(e,n,t){if(t||2===arguments.length)for(var r,o=0,a=n.length;o<a;o++)!r&&o in n||((r=r||Array.prototype.slice.call(n,0,o))[o]=n[o]);return e.concat(r||Array.prototype.slice.call(n))};function initLoadingGlobals(e){for(var n=window,t=(n.initializeContainerStartTime=new Date,n.appInitParameters={},0),r=["customReferrer","exp","pbi_source"];t<r.length;t++){var o=r[t],a=getQueryStringValue(o,e);null!=a&&(n.appInitParameters[o]=a)}}initLoadingGlobals();var url=window.location.href,urlLength=url.length,rdlReportRegexString=(window.getAppMetadataInfo=[],window.loadConceptualSchemaInfo=[],window.getExplorationsInfo=[],window.preferReadOnlySessionParam="preferReadOnlySession",window.enableSampleDashboardParam="enableSampleDashboard",window.contentProviderKeyString="/apps/",window.packageKeyString="/package/",window.installKeyString="/install",window.serviceAppInstanceIdString="/instances/",window.dashboardObjectIdString="/dashboards/",window.reportObjectIdString="/reports/",window.rdlReportSubPathRegex="/rdlreports/",window.bookmarkGuidString="bookmarkGuid=",window.dashboardObjectIdParam="dashboardObjectId",window.artifactObjectIdParam="artifactObjectId",window.contentProviderKeyParam="contentProviderKey",window.homeString="/home",window.appMetadataCommandParam="cmd",window.hasDashboardObjectId=!1,window.dashboardObjectId="",window.reportObjectId="",window.rdlReportObjectId="",window.serviceAppInstanceId="",window.contentProviderKey="",window.linkCode="",window.locationSearch=window.location.search,window.hasInvitationParams=0===window.locationSearch.toLowerCase().indexOf("?i="),window.hasExternalInvitationParams=0<window.locationSearch.toLowerCase().indexOf("invitationcode=")||0===window.locationSearch.toLowerCase().indexOf("?i=")&&-1<window.location.pathname.toLowerCase().indexOf("invite"),window.enableSampleDashboard=0<window.locationSearch.indexOf(window.enableSampleDashboardParam),window.isHome=0<url.toLowerCase().indexOf(window.homeString)||window.location&&"/"===window.location.pathname,window.isGoalsHub=window.location&&-1<url.toLowerCase().indexOf("/goals/hub"),window.goalsHubRequestedScorecardsCount=1e3,window.guidRegexString="[A-Za-z0-9]{8}[-][A-Za-z0-9]{4}[-][A-Za-z0-9]{4}[-][A-Za-z0-9]{4}[-][A-Za-z0-9]{12}",window.scorecardObjectIdString="/scorecards/",window.results=new RegExp(window.scorecardObjectIdString+window.guidRegexString).exec(url),null!=window.results&&(window.hasScorecardObjectId=!0),window.dashboardRegexString=window.dashboardObjectIdString+window.guidRegexString,window.dashboardRegex=new RegExp(window.dashboardRegexString),window.packageRegex=new RegExp(window.packageKeyString),window.installRegex=new RegExp(window.installKeyString),window.templateAppInstall=window.packageRegex.exec(url)&&window.installRegex.exec(url),window.results=window.dashboardRegex.exec(url),null!=window.results&&(window.hasDashboardObjectId=!0,window.dashboardObjectId=window.results[0].substring(window.dashboardObjectIdString.length,urlLength)),window.reportRegexString=window.reportObjectIdString+window.guidRegexString,window.reportRegex=new RegExp(window.reportRegexString),window.results=window.reportRegex.exec(url),null!=window.results&&(window.hasReportObjectId=!0,window.reportObjectId=window.results[0].substring(window.reportObjectIdString.length,urlLength)),window.rdlReportSubPathRegex+window.guidRegexString),rdlReportRegex=new RegExp(rdlReportRegexString),contentProviderKeyRegexString=(window.results=rdlReportRegex.exec(url),null!=window.results&&(window.rdlReportObjectId=window.results[0].substring(window.rdlReportSubPathRegex.length,urlLength)),window.contentProviderKeyString+window.guidRegexString),contentProviderKeyRegex=new RegExp(contentProviderKeyRegexString),serviceAppInstanceIdRegexString=(window.results=contentProviderKeyRegex.exec(url),null!=window.results&&(window.contentProviderKey=window.results[0].substring(window.contentProviderKeyString.length,urlLength)),window.serviceAppInstanceIdString+"[0-9]+"),serviceAppInstanceIdRegex=new RegExp(serviceAppInstanceIdRegexString),bookmarkGuidRegexString=(window.results=serviceAppInstanceIdRegex.exec(url),null!=window.results&&(window.serviceAppInstanceId=window.results[0].substring(window.serviceAppInstanceIdString.length,urlLength)),window.bookmarkGuidString+window.guidRegexString),bookmarkGuidRegex=new RegExp(bookmarkGuidRegexString),linksSubpart=(window.results=bookmarkGuidRegex.exec(url),null!=window.results&&(window.bookmarkGuid=window.results[0].substring(window.bookmarkGuidString.length,urlLength)),"links/"),linkCodeRegex=new RegExp(linksSubpart+"[a-zA-Z0-9_-]{10}");function clearQueryString(e,n){n=parseQueryString(n=void 0===n?window.location.search:n);return delete n[e],rebuildQueryString(n)}function parseQueryString(e){var n={},e=e=void 0===e?window.location.search:e;if(e&&"?"===e.substr(0,1))for(var t=0,r=e.substr(1).split("&");t<r.length;t++){var o=r[t].split("="),a=o[0],o=o.slice(1).join("=");n[decodeURIComponent(a)]=decodeURIComponent(o)}return n}function rebuildQueryString(e){var n,t="",r=!0;for(n in e)r||(t+="&"),t+=encodeURIComponent(n)+"=",e[n]&&(t+=encodeURIComponent(e[n])),r=!1;return t=r?t:"?"+t}function getQueryStringValue(e,n){for(var t=(n=n||window.location.search).substr(1).split("&"),r=0,o=t.length;r<o;++r){var a=t[r].split("=");if(a[0]===e)return decodeURIComponent(a[1])}return null}function startLogRequest(e,n,t,r){e={url:e,start:new Date,requestId:t,groupGUID:n};return window[r].push(e),e}function startLogConceptualSchemaRequest(e,n,t){e={url:e,start:new Date,requestId:n,datasetIds:t};return window.loadConceptualSchemaInfo.push(e),e}function endLogRequest(e,n,t,r,o,a,i,s,d){e.end=new Date,e.isError=n,e.code=t,e.errorMessage=r,e.parseStart=a,e.parseEnd=i,e.size=o,e.xhrStateOnResolution=s,e.initialRequestStatusCode=d}function buildExceptionResponse(e,n,t,r){return{activityId:e,requestId:n,status:500,error:{message:r+" Exception: "+t,code:"FrontLoadException"}}}function preloadSchemaAndExplorationForReportLanding(){return window.reportObjectId&&!window.serviceAppInstanceId&&window.initialDashboardContainer&&window.initialDashboardContainer.models&&1===window.initialDashboardContainer.models.length&&window.initialDashboardContainer.reports&&1===window.initialDashboardContainer.reports.length}function preloadConceptualSchema(){var u,e=new Promise(function(o,a){var e=window,i="conceptualSchema",s=window.conceptualSchemaRequestId,d=window.telemetrySessionId,n="explore/conceptualschema",t=("/"===e.clusterUri.substring(e.clusterUri.length-1)?e.clusterUri:e.clusterUri+"/")+n,r=(window.conceptualSchemaRequestUrl=n,window.initialDashboardContainer.models[0]),c=(window.powerbi||(window.powerbi={}),window.powerbi.common||(window.powerbi.common={}),JSON.stringify({modelIds:[r.id],userPreferredLocale:window.powerbi.common.unmappedCultureInfo||window.powerbi.common.cultureInfo}));window.conceptualSchemaRequestBody=c,u=startLogConceptualSchemaRequest(n,s,"["+r.id+"]");try{var w=new XMLHttpRequest;w.onreadystatechange=function(){var n=w.status;try{if(w.readyState===XMLHttpRequest.DONE)if(200<=n&&n<300||304===n){var e=JSON.parse(w.responseText),t=w.getResponseHeader("requestId");window.conceptualSchemaResponseRequestId=t||s,e.error?(a({requestId:s,error:e.error,status:n,schemas:void 0}),endLogRequest(u,!0,n.toString(),w.response)):(o(e),endLogRequest(u,!1,n.toString(),"",w.responseText.length))}else try{var r=JSON.parse(w.response);a({requestId:s,error:r,status:n,schemas:void 0}),endLogRequest(u,!0,n.toString(),w.response)}catch(e){a(buildExceptionResponse(d,s,e.message,i)),endLogRequest(u,!0,n.toString(),i+" Exception: "+e.message)}}catch(e){a(buildExceptionResponse(d,s,e.message,i)),endLogRequest(u,!0,n.toString(),i+" Exception: "+e.message)}},w.open("POST",t,!0),w.setRequestHeader("Accept","application/json"),w.setRequestHeader("Authorization","Bearer "+e.powerBIAccessToken),w.setRequestHeader("ActivityId",d),w.setRequestHeader("RequestId",s),w.setRequestHeader("content-type","application/json; charset=utf-8"),w.send(c)}catch(e){a(buildExceptionResponse(d,s,e.message,i))}});return u.promise=e}function preloadExplorations(){var c,e=new Promise(function(r,o){var e=window,a="explorations",n=window.initialDashboardContainer.reports[0],i=window.explorationsRequestId,s=window.telemetrySessionId,t=window.bookmarkGuid,n="explore/reports/"+n.id+"/exploration";t&&(n+="?bookmarkGuid=".concat(t)),window.explorationsRequestUrl=n;t=("/"===e.clusterUri.substring(e.clusterUri.length-1)?e.clusterUri:e.clusterUri+"/")+n;c=startLogRequest(n,void 0,i,"getExplorationsInfo");try{var d=new XMLHttpRequest;d.onreadystatechange=function(){var n=d.status;try{if(d.readyState===XMLHttpRequest.DONE)if(200<=n&&n<300||304===n){var e=d.responseText;r(e),endLogRequest(c,!1,n.toString(),"",d.responseText.length)}else try{var t=JSON.parse(d.response);o({requestId:i,error:t,status:n,schemas:void 0}),endLogRequest(c,!0,n.toString(),d.response)}catch(e){o(buildExceptionResponse(s,i,e.message,a)),endLogRequest(c,!0,n.toString(),a+" Exception: "+e.message)}}catch(e){o(buildExceptionResponse(s,i,e.message,a)),endLogRequest(c,!0,n.toString(),a+" Exception: "+e.message)}},d.open("GET",t,!0),d.setRequestHeader("Accept","application/json"),d.setRequestHeader("Authorization","Bearer "+e.powerBIAccessToken),d.setRequestHeader("ActivityId",s),d.setRequestHeader("RequestId",i),d.setRequestHeader("content-type","application/json; charset=utf-8"),d.send()}catch(e){o(buildExceptionResponse(s,i,e.message,a))}});return c.promise=e}window.results=linkCodeRegex.exec(url),null!=window.results&&(window.linkCode=window.results[0].substring(linksSubpart.length,urlLength));var requestWV2First=window.requestWV2First;function getAppMetadata(e,n,t,r,o,a){var i=window;if(!i.clientAuthEnabled)return getAppMetadataInternal(e,n,t,r,o,a);i.signInPromise.then(function(){return getAppMetadataInternal(e,n,t,r,o,a)})}function getAppMetadataInternal(j,L,E,t,k,D){var _,e=new Promise(function(C,q){window.initial={},window.initialGroupGUID=j;var A=new XMLHttpRequest,e=[],U=window,n="/"===U.clusterUri.substring(U.clusterUri.length-1)?U.clusterUri:U.clusterUri+"/",O=("true"!==getQueryStringValue("invalidateReplicaUse")&&e.push(window.preferReadOnlySessionParam+"=true"),n=!window.contentProviderKey||"true"!==window.optimizedAppMetadataForAppLandingEnabledForBootstrap||window.templateAppInstall||window.serviceAppInstanceId?window.reportObjectId&&!window.serviceAppInstanceId?(e.push(window.appMetadataCommandParam+"=report"),e.push(window.artifactObjectIdParam+"="+window.reportObjectId),window.contentProviderKey&&e.push(window.contentProviderKeyParam+"="+window.contentProviderKey),n+"metadata/app?"+e.join("&")):window.hasDashboardObjectId&&window.dashboardObjectId&&!window.serviceAppInstanceId?(e.push(window.appMetadataCommandParam+"=dashboard"),e.push(window.artifactObjectIdParam+"="+window.dashboardObjectId),window.contentProviderKey&&e.push(window.contentProviderKeyParam+"="+window.contentProviderKey),n+"metadata/app?"+e.join("&")):window.isGoalsHub?(e.push(window.appMetadataCommandParam+"=goalshub"),e.push("requestedSharedArtifactsCount="+window.goalsHubRequestedScorecardsCount),n+"metadata/app?"+e.join("&")):!window.hasScorecardObjectId&&(!window.isHome||window.hasInvitationParams||window.hasExternalInvitationParams)?t.linkCode?L?paramsForFallbackAppMetadataForHome(window.hasInvitationParams,window.hasExternalInvitationParams,n,e).cmdUrl:(e.push(window.appMetadataCommandParam+"=link"),e.push("linkCode="+t.linkCode),n+"metadata/app?"+e.join("&")):(window.enableSampleDashboard&&e.push(window.enableSampleDashboardParam+"=true"),window.hasDashboardObjectId&&e.push(window.dashboardObjectIdParam+"="+window.dashboardObjectId),n+"powerbi/metadata/app?"+e.join("&")):(e.push(window.appMetadataCommandParam+"=home"),n+"metadata/app?"+e.join("&")):(e.push(window.appMetadataCommandParam+"=ContentProvider"),window.reportObjectId?e.push(window.artifactObjectIdParam+"="+window.reportObjectId):window.hasDashboardObjectId&&window.dashboardObjectId&&e.push(window.artifactObjectIdParam+"="+window.dashboardObjectId),e.push(window.contentProviderKeyParam+"="+window.contentProviderKey),n+"metadata/app?"+e.join("&")),A.open("GET",n,!0),L?window.appmetadataRetryRequestId:window.appmetadataRequestId);_=startLogRequest(n,j,O,"getAppMetadataInfo"),A.setRequestHeader("Accept","application/json"),A.setRequestHeader("Authorization","Bearer "+U.powerBIAccessToken),A.setRequestHeader("ActivityId",window.telemetrySessionId),A.setRequestHeader("RequestId",O),null!==window.previousTenantId&&""!==window.previousTenantId&&A.setRequestHeader("X-PowerBI-User-PreviousTenantId",U.previousTenantId),j&&(A.setRequestHeader("X-PowerBI-User-GroupId",j),A.setRequestHeader("X-PowerBI-User-VerifyGroupInvite","1")),A.onreadystatechange=function(){var x,y,P;return __awaiter(this,void 0,void 0,function(){var t,n,r,o,a,i,s,d,c,w,u,l,p,g,h,m,b,I,R,f,S,v=this;return __generator(this,function(e){switch(e.label){case 0:switch(t=A.status,A.readyState){case 3:return[3,1];case 4:return[3,2]}return[3,42];case 1:return 404===t&&window.linkCode?[2]:((t<200||300<=t)&&304!==t&&401!==t&&403!==t&&(window.initialDashboardContainer="#error#",endLogRequest(_,!0,t.toString(),void 0,void 0,void 0,void 0,A.readyState)),[3,42]);case 2:if(404!==t||!window.linkCode)return[3,8];if(n=A.getResponseHeader("x-powerbi-error-info"),L)return[3,7];e.label=3;case 3:return e.trys.push([3,5,,6]),[4,T(t)];case 4:return R=e.sent(),C(R),[3,6];case 5:return r=e.sent(),q(r),[3,6];case 6:return[2];case 7:endLogRequest(_,!0,t.toString(),n),e.label=8;case 8:if(403===t||401===t){if(isCAEClaimChallenge(t,A)&&U.teamsCAE&&("Teams"===U.hostPlatformName||!0===U.inTeams)){for(r=U.metaOSAccessTokenKeyPrefix+U.hostPlatformName+"_"+U.hostPlatformType,d=U.metaOSUserInfoKeyPrefix+U.hostPlatformName+"_"+U.hostPlatformType,o=0,a=[r,d];o<a.length;o++)i=a[o],window.localStorage.removeItem(i);return(d=new URL(k.href)).searchParams.append("TeamsCAEinWFE","true"),k.href="/teams/TeamsAuthentication?"+encodeURIComponent(d.toString()),[2]}switch(s=A.getResponseHeader("x-powerbi-error-info"),d=(d=getQueryStringValue("pbi_source"))?"?pbi_source="+encodeURIComponent(d):"",c=getQueryStringValue("redirectedFromSignup"),w=0<d.length?d+"&responseError="+s:"?responseError="+s,s){case"UserNotLicensed":return[3,9];case"TenantNotAllowed":return[3,10];case"GroupsNotEnabled":return[3,11];case"GroupNotAccessible":return[3,18];case"UserAccountDisabledByUser":return[3,23];case"GuestUserIsDenied":return[3,24];case"TenantMigrationInProgress":return[3,25]}}return[3,26];case 9:return u=window.baseMetadataPromise,!L&&u?u.then(function(){return __awaiter(v,void 0,void 0,function(){var n;return __generator(this,function(e){switch(e.label){case 0:if(!0!==window.hasAutoAssignedLicense)return[3,5];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,T(t)];case 2:return n=e.sent(),C(n),[3,4];case 3:return n=e.sent(),q(n),[3,4];case 4:return[3,6];case 5:endLogRequest(_,!0,t.toString(),s),redirectUserUnlicensed(w,c,k),q(s),e.label=6;case 6:return[2]}})})}):(endLogRequest(_,!0,t.toString(),s),redirectUserUnlicensed(w,c,k),q(s)),[2];case 10:return endLogRequest(_,!0,t.toString(),s),k.href="/SignupRedirect"+w,q(s),[2];case 11:if(L||!j)return[3,16];e.label=12;case 12:return e.trys.push([12,14,,15]),[4,T(t)];case 13:return R=e.sent(),C(R),[3,15];case 14:return u=e.sent(),q(u),[3,15];case 15:return[3,17];case 16:endLogRequest(_,!0,t.toString(),s),q(s),e.label=17;case 17:return[2];case 18:if(endLogRequest(_,!0,t.toString(),s),L||!j)return[3,22];e.label=19;case 19:return e.trys.push([19,21,,22]),[4,T(t)];case 20:return R=e.sent(),C(R),[3,22];case 21:return l=e.sent(),q(l),[3,22];case 22:return[2];case 23:return endLogRequest(_,!0,t.toString(),s),k.href="/AccountClosed",q(s),[2];case 24:return endLogRequest(_,!0,t.toString(),s),k.href="/ErrorPage?code=".concat(t,"&errorType=GuestUserIsDenied&raid=").concat(O).concat(s?"&errorInfo=".concat(encodeURIComponent(s)):"").concat(D||0===D?"&initialCode=".concat(encodeURIComponent(D)):"").concat(U.tenantId?"&tenantId=".concat(encodeURIComponent(U.tenantId)):"").concat(null!=(x=null==(x=null==(x=U.powerbi)?void 0:x.session)?void 0:x.userInfo)&&x.uoid?"&userObjectId=".concat(encodeURIComponent(U.powerbi.session.userInfo.uoid)):"").concat(null!=(x=null==(x=null==(x=U.powerbi)?void 0:x.session)?void 0:x.userInfo)&&x.puid?"&userPuid=".concat(encodeURIComponent(U.powerbi.session.userInfo.puid)):""),q(s),[2];case 25:return k.href="/ErrorPage?code=503&errorType=TenantMigrationInProgress&raid=".concat(O).concat(s?"&errorInfo=".concat(encodeURIComponent(s)):"").concat(D||0===D?"&initialCode=".concat(encodeURIComponent(D)):"").concat(U.tenantId?"&tenantId=".concat(encodeURIComponent(U.tenantId)):"").concat(null!=(y=null==(y=null==(x=U.powerbi)?void 0:x.session)?void 0:y.userInfo)&&y.uoid?"&userObjectId=".concat(encodeURIComponent(U.powerbi.session.userInfo.uoid)):"").concat(null!=(y=null==(y=null==(y=U.powerbi)?void 0:y.session)?void 0:y.userInfo)&&y.puid?"&userPuid=".concat(encodeURIComponent(U.powerbi.session.userInfo.puid)):""),q(s),[2];case 26:if(!(500<=t&&t<600)||L)return[3,31];e.label=27;case 27:return e.trys.push([27,29,,30]),[4,T(t)];case 28:return R=e.sent(),C(R),[3,30];case 29:return l=e.sent(),q(l),[3,30];case 30:return[2];case 31:if(0===t&&!L)return setTimeout(function(){return __awaiter(v,void 0,void 0,function(){var n;return __generator(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,T(t)];case 1:return n=e.sent(),C(n),[3,3];case 2:return n=e.sent(),q(n),[3,3];case 3:return[2]}})})},1e3),[2];if((t<200||300<=t)&&304!==t)return g="#error#",window.initialDashboardContainer=g,endLogRequest(_,!0,t.toString()),p=A.getResponseHeader("x-powerbi-error-info"),0===t&&!p&&window.navigator&&(p="NavigatorOnLineProperty="+window.navigator.onLine),k.href="/ErrorPage?code=".concat(t,"&errorType=AppMetadataInaccessible&raid=").concat(O).concat(p?"&errorInfo=".concat(encodeURIComponent(p)):"").concat(D||0===D?"&initialCode=".concat(encodeURIComponent(D)):"").concat(U.tenantId?"&tenantId=".concat(encodeURIComponent(U.tenantId)):"").concat(null!=(P=null==(P=null==(y=U.powerbi)?void 0:y.session)?void 0:P.userInfo)&&P.uoid?"&userObjectId=".concat(encodeURIComponent(U.powerbi.session.userInfo.uoid)):"").concat(null!=(P=null==(P=null==(P=U.powerbi)?void 0:P.session)?void 0:P.userInfo)&&P.puid?"&userPuid=".concat(encodeURIComponent(U.powerbi.session.userInfo.puid)):""),q(g),[2];if(p=new Date,g=JSON.parse(A.responseText),h=new Date,window.initialDashboardContainer=g,E&&!j&&g.folders){for(m=!1,b=0,I=g.folders;b<I.length;b++)if(I[b].objectId===E){m=!0;break}if(!m)return[3,32];window.initialGroupGUID=E}return[3,41];case 32:return requestWV2First?(f=null==(P=null==g?void 0:g.userMetadata)?void 0:P.groups)&&f.length&&!f.find(function(e){return e.objectId===E})?(H(O,t),[3,39]):[3,33]:[3,40];case 33:if(L)return[3,38];e.label=34;case 34:return e.trys.push([34,36,,37]),[4,T(t)];case 35:return R=e.sent(),C(R),[3,37];case 36:return f=e.sent(),q(f),[3,37];case 37:return[2];case 38:H(O,t),e.label=39;case 39:return[3,41];case 40:H(O,t),e.label=41;case 41:return endLogRequest(_,!1,t.toString(),"",A.responseText.length,p,h,A.readyState,D),preloadSchemaAndExplorationForReportLanding()&&(window.conceptualSchemaPromise=preloadConceptualSchema(),window.explorationsPromise=preloadExplorations()),window.powerbi||(window.powerbi={}),(S=window.powerbi.notifyDashboardContainerReady)&&S(g),C(g),[3,42];case 42:return[2]}})})},A.send()});return _.promise=e;function H(e,n){window.initial.groupInaccessible=!0,window.appLoadError={error:"#groupNotAccessible#",requestId:e,statusCode:n,handled:void 0}}function T(n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,getAppMetadataInternal(requestWV2First?E:"",!0,requestWV2First?null:j,t,k,n)];case 1:return[2,e.sent()]}})})}}function redirectUserUnlicensed(e,n,t){var r=window.staticPageRedirectInTeams,o=-1!==t.href.indexOf("/teams/");e+="&ru="+encodeURIComponent(location.href),"1"===n?t.href="/PleaseWait"+(e+="&redirectedFromSignup=1"):o&&r?(o=n=void 0,n=(r=getQueryStringValue("route"))&&0<r.length?(o=clearQueryString("route",t.search),t.origin+"/"+r):(o=t.search,t.origin+t.pathname),t.href="/StaticTeamsSignUp?originalUrl="+encodeURIComponent(t.href)+"&redirectUrl="+encodeURIComponent(n+o)):t.href="/SignupRedirect"+e}function paramsForFallbackAppMetadataForHome(e,n,t,r){return void 0===r&&(r=[]),e||n?{cmdUrl:t+"powerbi/metadata/app?"+r.join("&")}:(e=window.appMetadataCommandParam+"=home",{cmdUrl:t+"metadata/app?"+__spreadArray(__spreadArray([],r,!0),[e],!1).join("&")})}if(!window.__skipBootstrapProcess&&(window.addEventListener("DOMContentLoaded",function(){(window&&window.app).bootstrap()}),!window.hasExternalInvitationParams)){window.initial={},window.initialDashboardContainer="#loading#";for(var groupGUID="",locationPath=window.location.pathname.toLowerCase(),pathArray=locationPath.split("/"),pathArraylength=pathArray.length,i=0;i<pathArraylength;i++)if("groups"===pathArray[i]&&i+1<pathArraylength&&"me"!==pathArray[i+1]){groupGUID=pathArray[i+1];break}getAppMetadata(requestWV2First?"":groupGUID,!1,requestWV2First?groupGUID:null,{linkCode:window.linkCode},window.location)}function isCAEClaimChallenge(e,n){n=n.getResponseHeader("WWW-Authenticate");return 401===e&&(null==n?void 0:n.includes("error"))}