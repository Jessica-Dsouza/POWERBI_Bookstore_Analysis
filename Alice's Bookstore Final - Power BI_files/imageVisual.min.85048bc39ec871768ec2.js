"use strict";
this.parseTimeMarkers = this.parseTimeMarkers || {};
var marker = this.parseTimeMarkers['imageVisual.min.js'] || (this.parseTimeMarkers['imageVisual.min.js'] = {});
marker.startEval = window.jsCommon && window.jsCommon.performance && window.jsCommon.performance.now ? window.jsCommon.performance.now() : Date.now(); marker.isExternal = false;
if (window.perfTracking && window.perfTracking.startBundleEval) window.perfTracking.startBundleEval('imageVisual.min.js');var es6,powerbi;!function(e){var a,s,n,r;function i(){this.scalingType=a.imageScalingType.normal}a=e.visuals||(e.visuals={}),s=jsCommon.BrowserUtils,n=e.visuals.builder,r=jsCommon.Utility,i.prototype.init=function(e){this.element=e.element,this.hostServices=e.host,this.featureSwitches=e.featureSwitches},i.prototype.enumerateObjectInstances=function(e){return"imageScaling"===e.objectName?this.enumerateImageScaling():null},i.prototype.getFormattingModel=function(){var e=this;return new n.FormattingModelBuilder(function(){return e.getStyleCard()},function(){return e.getVisualLinkPlaceholder()}).build()},i.prototype.getStyleCard=function(){var e,i=this,t=a.imageVisualObjectProps.imageScaling;return new n.FormattingCardBuilder(new n.FormattingCardUidBuilder("style"),null!=(e=this.featureSwitches)&&e.onObject?"Visual_ImageStyle":"Style",[t.imageScalingType],function(e){return i.hostServices.getLocalizedString(e)}).addGroup("default",function(e){e.addSimpleSlice("scaling",new n.DropdownBuilder({descriptor:t.imageScalingType,value:i.scalingType}).build())}).build()},i.prototype.getVisualLinkPlaceholder=function(){return n.buildHostFormattingCardPlaceholder("actions")},i.prototype.enumerateImageScaling=function(){return[{selector:null,objectName:"imageScaling",properties:{imageScalingType:this.scalingType}}]},i.prototype.onViewModeChanged=function(e){this.updateVisualLinkProps()},i.prototype.update=function(e){var i,t=this,n=e.dataViews;n&&0!==n.length&&(n=n[0].metadata.objects)&&n.general&&((i=this.imageBackgroundElement)||((i=$("<div class='imageBackground' ></div>")).click(function(e){var i={type:0,visualObjects:[{objectName:"image",selectorsByColumn:{}}],isCtrlOrMetaKey:s.isCtrlOrMeta(e),isShiftKey:e.shiftKey,position:{x:e.clientX,y:e.clientY}};t.hostServices.onSelecting(i),1===i.action&&e.stopPropagation()}),this.imageBackgroundElement=i,this.imageBackgroundElement.appendTo(this.element)),e=e.viewport,i.css("height",e.height),i.css("width",e.width),n.imageScaling?this.scalingType=n.imageScaling.imageScalingType.toString():this.scalingType=a.imageScalingType.normal,e=n.general.imageUrl,r.isLocalUrl(e)&&i.css("backgroundImage","url("+e+")"),this.scalingType===a.imageScalingType.fit?i.css("background-size","100% 100%"):this.scalingType===a.imageScalingType.fill?i.css("background-size","cover"):i.css("background-size","contain"),this.updateVisualLinkProps())},i.prototype.updateVisualLinkProps=function(){var e=this.hostServices.getVisualLinkProperties();e&&this.imageBackgroundElement&&this.imageBackgroundElement.css("cursor",e.hasVisualLink?"pointer":"inherit")},a.ImageVisual=i}(powerbi=powerbi||{}),function(e){((e=e.powerbi||(e.powerbi={})).visuals||(e.visuals={})).importImageModule=function(){}}(es6=es6||{}),function(e){var i;(i=e.visuals||(e.visuals={})).initializeImageFactoryES6=function(){i.setCreateImage(function(){return es6.powerbi.visuals.importImageModule().then(function(e){return new e.ImageVisual})})}}(powerbi=powerbi||{});
this.parseTimeMarkers = this.parseTimeMarkers || {};
var marker = this.parseTimeMarkers['imageVisual.min.js'] || (this.parseTimeMarkers['imageVisual.min.js'] = {});
marker.endEval = window.jsCommon && window.jsCommon.performance && window.jsCommon.performance.now ? window.jsCommon.performance.now() : Date.now(); marker.isExternal = false;
